# Docker Xenomai hacks

This is a first attempt to compile Xenomai Cobalt v3.1 based on a Debian distribution from a Docker container. It appears that stable version 3.1 of Xenomai is based on an old version of the Linux kernel: v3.18.20. At the time of writing the latest Linux kernel version is 5.6.

GCC versions greater than 5 are unable to compile such an old Linux kernel. As a consequence, this first attempt used Debian 8, which features old GCC 4.9.

Compiling the Linux kernel requires a specific configuration file '.config'. This configuration file is built based on 'make menuconfig'. It is said to be a common trick to just pick the configuration file of your currently installed distro instead of spending hours in the configuration menu. Unfortunately, this configuration file is nowhere to be found in the Docker version of Debian 8. Besides, the kernel version seems to be higher than 4, and it would not be a surprise if configuration files are incompatible between major versions of the kernel.

The Linux kernel compilation obviously fails without a proper '.config' file. Using the default '.config' generated by 'make menuconfig' leads nowhere.

After some research, it would seem to be easier to compile embedded kernels thanks to the Yocto project. As a consequence, this Docker Xenomai project is left aside.